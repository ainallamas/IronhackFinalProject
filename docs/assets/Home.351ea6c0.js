import{c as r,u as k,d as f,r as _,o as c,a as l,b as s,n as N,t as m,p as S,e as g,w as x,f as b,v as y,g as z,h as w,F as v,i as Z,j as C}from"./index.23123dc8.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const u=r("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),J=k(),h=f("task",{state:()=>({task:void 0}),actions:{async getTasks(){const{data:t,error:e}=await u.from("task").select("*").order("id",{ascending:!1});return this.task=t,console.log(t),this.task},async newTask(t,e){await u.from("task").insert([{user_id:J.user.id,title:t,isCreated:!1,description:e}])},async updateTask(t,e,n){await u.from("task").update({title:t,description:e}).eq("id",n)},async deleteTask(t){await u.from("task").delete().eq("id",t)}},persist:{enabled:!0}});const V=t=>(S("data-v-00192922"),t=t(),g(),t),X={class:"section"},D={class:"container"},M={class:"task-title"},j={class:"title"},O={class:"task-description"},G={class:"subtitle"},U={class:"task-buttons"},B=V(()=>s("button",{class:"button is-info is-light edit-button"},"Edit",-1)),$={__name:"TaskCard",props:["task"],setup(t){const e=t;r("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const n=h(),a=_(!0),o=async()=>{await n.deleteTask(e.task.id)};return(p,d)=>(c(),l("div",X,[s("div",D,[s("div",{class:"task-card",style:N(a.value?{"background-color":"#D9B13B"}:{"background-color":"#ADC027"})},[s("div",M,[s("div",j,m(e.task.title),1)]),s("div",O,[s("div",G,m(e.task.description),1)]),s("div",U,[B,s("button",{onClick:d[0]||(d[0]=i=>a.value=!a.value),class:"button is-success is-light done-button"},"Done"),s("button",{onClick:o,class:"button is-danger is-light delete-button"},"Delete")])],4)])]))}},Y=T($,[["__scopeId","data-v-00192922"]]),A={class:"section"},W={class:"container mt-5"},K=["onSubmit"],F={class:"control"},H=s("br",null,null,-1),R={class:"control"},Q=s("div",{class:"control"},[s("button",{type:"submit",class:"mt-2 button is-info"},"Submit")],-1),q={__name:"NewTask",setup(t){r("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const e=h(),n=k(),a=_(""),o=_(""),p=async()=>{await e.newTask(a.value,o.value),console.log(n.user),console.log(a.value,o.value),a.value="",o.value=""};return(d,i)=>(c(),l("div",A,[s("div",W,[s("form",{onSubmit:x(p,["prevent"])},[s("div",F,[b(s("input",{"onUpdate:modelValue":i[0]||(i[0]=I=>a.value=I),class:"input is-normal",placeholder:"Post title"},null,512),[[y,a.value]])]),H,s("div",R,[b(s("textarea",{"onUpdate:modelValue":i[1]||(i[1]=I=>o.value=I),class:"textarea",placeholder:"Write a post"},null,512),[[y,o.value]])]),Q],40,K)])]))}},E=s("h1",null,"Home",-1),L=s("br",null,null,-1),P=s("br",null,null,-1),es={__name:"Home",setup(t){r("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const e=z(),n=k(),a=h(),o=async()=>{try{await n.logout(),e.push({name:"login"})}finally{}};return a.getTasks(),(p,d)=>(c(),l(v,null,[E,w(q),(c(!0),l(v,null,Z(C(a).task,i=>(c(),l("div",null,[w(Y,{task:i},null,8,["task"])]))),256)),L,P,s("button",{onClick:o},"Log out")],64))}};export{es as default};
