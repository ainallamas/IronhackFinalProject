import{c as p,u as w,d as J,r as k,o as c,a as l,b as s,n as T,t as S,w as v,v as h,p as y,e as f,f as V,g as X,h as m,F as O,i as j,j as M}from"./file_index.232c6986.js";import{_ as N}from"./file__plugin-vue_export-helper.e718e6fb.js";const u=p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),D=w(),g=J("task",{state:()=>({task:void 0}),actions:{async getTasks(){const{data:a,error:t}=await u.from("task").select("*").order("id",{ascending:!1});return this.task=a,console.log(a),this.task},async newTask(a,t){await u.from("task").insert([{user_id:D.user.id,title:a,isCreated:!1,description:t}])},async updateTask(a,t,e){await u.from("task").update({title:a,description:t}).eq("id",e)},async deleteTask(a){await u.from("task").delete().eq("id",a)},async doneTask(a,t){console.log(t);try{const{data:e,error:o}=await u.from("task").update({isCreated:!t}).match({id:a})}catch(e){console.log("This is my error",e)}}},persist:{enabled:!0}});p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const x=a=>(y("data-v-1e3f2a8a"),a=a(),f(),a),G={class:"section"},U={class:"container"},$={class:"task-title"},A={class:"title"},B={class:"task-description"},Y={class:"subtitle"},W={class:"field"},K={class:"control"},F={class:"field"},H={class:"control"},R=x(()=>s("strong",null,"Accept",-1)),E=[R],Q=x(()=>s("strong",null,"Cancel",-1)),q=[Q],L={__name:"TaskCard",props:{task:Object},setup(a){const t=a;p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const e=g(),o=k(!1),i=async()=>{await e.deleteTask(t.task.id),await e.getTasks()},_=async()=>{await e.doneTask(t.task.id,t.task.isCreated),await e.getTasks()},n=k({title:t.task.title,description:t.task.description}),d=()=>{o.value=!0},r=async()=>{o.value=!1,n.value.title=t.task.title,n.value.description=t.task.description,await e.updateTask(t.task.title,t.task.description,t.task.id)},Z=async()=>{o.value=!1,await e.updateTask(n.value.title,n.value.description,t.task.id),await e.getTasks()};return(ms,I)=>(c(),l("div",G,[s("div",U,[o.value?(c(),l("div",{key:1,class:T(["task-card",{done:t.task.isCreated}])},[s("div",W,[s("div",K,[v(s("input",{"onUpdate:modelValue":I[0]||(I[0]=b=>n.value.title=b),class:"input is-normal",placeholder:"Post the new title"},null,512),[[h,n.value.title]])])]),s("div",F,[s("div",H,[v(s("textarea",{"onUpdate:modelValue":I[1]||(I[1]=b=>n.value.description=b),class:"textarea",placeholder:"Write a new post description"},null,512),[[h,n.value.description]])])]),s("div",{class:"field"},[s("div",{class:"control"},[s("button",{onClick:Z,class:"button submit-button"},E),s("button",{onClick:r,class:"button submit-button"},q)])])],2)):(c(),l("div",{key:0,class:T(["task-card",{done:t.task.isCreated}])},[s("div",$,[s("div",A,S(t.task.title),1)]),s("div",B,[s("div",Y,S(t.task.description),1)]),s("div",{class:"task-buttons"},[s("button",{onClick:d,class:"button submit-button"},"Edit"),s("button",{onClick:_,class:"button submit-button"},"Done"),s("button",{onClick:i,class:"button submit-button"},"Delete")])],2))])]))}},P=N(L,[["__scopeId","data-v-1e3f2a8a"]]);const C=a=>(y("data-v-c1454d19"),a=a(),f(),a),ss={class:"section"},ts={class:"container"},as=C(()=>s("div",{class:"welcome-message"},[s("h1",{class:"title"},"NEW TASK")],-1)),es=["onSubmit"],os={class:"field"},is={class:"control"},ns={class:"field"},cs={class:"control"},ls=C(()=>s("div",{class:"field"},[s("div",{class:"control"},[s("button",{class:"button is-link is-centered submit-button",type:"submit"},"Submit")])],-1)),ds={__name:"NewTask",setup(a){p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=g(),e=w(),o=k(""),i=k(""),_=async()=>{await t.newTask(o.value,i.value),console.log(e.user),console.log(o.value,i.value),o.value="",i.value="",t.getTasks()};return(n,d)=>(c(),l("div",ss,[s("div",ts,[as,s("form",{onSubmit:V(_,["prevent"])},[s("div",os,[s("div",is,[v(s("input",{"onUpdate:modelValue":d[0]||(d[0]=r=>o.value=r),class:"input",placeholder:"Task title"},null,512),[[h,o.value]])])]),s("div",ns,[s("div",cs,[v(s("textarea",{"onUpdate:modelValue":d[1]||(d[1]=r=>i.value=r),class:"textarea",placeholder:"Write a task description"},null,512),[[h,i.value]])])]),ls],40,es)])]))}},rs=N(ds,[["__scopeId","data-v-c1454d19"]]);const z=a=>(y("data-v-4b3b1ba5"),a=a(),f(),a),us={class:"nav-top"},ps=z(()=>s("div",{id:"navbarBasicExample",class:"navbar-menu"},[s("div",{class:"navbar-start"},[s("div",{class:"navbar-item title"}," TASK DASHBOARD ")])],-1)),_s=z(()=>s("strong",null,"Log out",-1)),Is=[_s],ks={__name:"Navbar",setup(a){const t=w(),e=X(),o=async()=>{try{await t.logout(),e.push({name:"login"})}finally{}};return(i,_)=>(c(),l("div",us,[s("nav",{class:"navbar",role:"navigation","aria-label":"main navigation"},[ps,s("div",{class:"navbar-end"},[s("div",{class:"navbar-item"},[s("div",{class:"buttons"},[s("button",{onClick:o,class:"button is-link is-centered logout-button"},Is)])])])])]))}},vs=N(ks,[["__scopeId","data-v-4b3b1ba5"]]),hs={class:"section"},bs={class:"container"},fs={__name:"Home",setup(a){p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=g();return t.getTasks(),(e,o)=>(c(),l("div",hs,[s("div",bs,[m(vs),m(rs),(c(!0),l(O,null,j(M(t).task,i=>(c(),l("div",null,[m(P,{task:i},null,8,["task"])]))),256))])]))}};export{fs as default};
