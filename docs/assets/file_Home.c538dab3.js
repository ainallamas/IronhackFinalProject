import{c as p,u as w,d as T,r as _,o as c,a as l,b as s,n as f,t as N,w as m,v as h,p as S,e as x,f as C,g as z,h as b,F as Z,i as J,j as V}from"./file_index.1dd5d038.js";import{_ as X}from"./file__plugin-vue_export-helper.e718e6fb.js";const u=p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),O=w(),y=T("task",{state:()=>({task:void 0}),actions:{async getTasks(){const{data:e,error:t}=await u.from("task").select("*").order("id",{ascending:!1});return this.task=e,console.log(e),this.task},async newTask(e,t){await u.from("task").insert([{user_id:O.user.id,title:e,isCreated:!1,description:t}])},async updateTask(e,t,a){await u.from("task").update({title:e,description:t}).eq("id",a)},async deleteTask(e){await u.from("task").delete().eq("id",e)},async doneTask(e,t){console.log(t);try{const{data:a,error:i}=await u.from("task").update({isCreated:!t}).match({id:e})}catch(a){console.log("This is my error",a)}}},persist:{enabled:!0}});p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const j=e=>(S("data-v-e8e2e0d0"),e=e(),x(),e),M={class:"section"},D={class:"container"},G={class:"task-title"},U={class:"title"},$={class:"task-description"},A={class:"subtitle"},B={class:"control"},Y=j(()=>s("br",null,null,-1)),W={class:"control"},K={__name:"TaskCard",props:{task:Object},setup(e){const t=e;p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const a=y(),i=_(!1),n=async()=>{await a.deleteTask(t.task.id),await a.getTasks()},I=async()=>{await a.doneTask(t.task.id,t.task.isCreated),await a.getTasks()},o=_({title:t.task.title,description:t.task.description}),d=()=>{i.value=!0},r=async()=>{i.value=!1,o.value.title=t.task.title,o.value.description=t.task.description,await a.updateTask(t.task.title,t.task.description,t.task.id)},g=async()=>{i.value=!1,await a.updateTask(o.value.title,o.value.description,t.task.id),await a.getTasks()};return(ds,k)=>(c(),l("div",M,[s("div",D,[i.value?(c(),l("div",{key:1,class:f(["task-card",{done:t.task.isCreated}])},[s("div",B,[m(s("input",{"onUpdate:modelValue":k[0]||(k[0]=v=>o.value.title=v),class:"input is-normal",placeholder:"Post the new title"},null,512),[[h,o.value.title]])]),Y,s("div",W,[m(s("textarea",{"onUpdate:modelValue":k[1]||(k[1]=v=>o.value.description=v),class:"textarea",placeholder:"Write a new post description"},null,512),[[h,o.value.description]])]),s("div",{class:"control"},[s("button",{onClick:g,class:"mt-2 button is-info"},"Accept"),s("button",{onClick:r,class:"mt-2 button is-info"},"Cancel")])],2)):(c(),l("div",{key:0,class:f(["task-card",{done:t.task.isCreated}])},[s("div",G,[s("div",U,N(t.task.title),1)]),s("div",$,[s("div",A,N(t.task.description),1)]),s("div",{class:"task-buttons"},[s("button",{onClick:d,class:"button is-info is-light edit-button"},"Edit"),s("button",{onClick:I,class:"button is-success is-light done-button"},"Done"),s("button",{onClick:n,class:"button is-danger is-light delete-button"},"Delete")])],2))])]))}},F=X(K,[["__scopeId","data-v-e8e2e0d0"]]),H={class:"section"},R={class:"container mt-5"},E=s("h1",{class:"title"},"NEW TASK",-1),Q=["onSubmit"],q={class:"control"},L=s("br",null,null,-1),P={class:"control"},ss=s("div",{class:"control"},[s("button",{type:"submit",class:"mt-2 button is-info"},"Submit")],-1),ts={__name:"NewTask",setup(e){p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=y(),a=w(),i=_(""),n=_(""),I=async()=>{await t.newTask(i.value,n.value),console.log(a.user),console.log(i.value,n.value),i.value="",n.value="",t.getTasks()};return(o,d)=>(c(),l("div",H,[s("div",R,[E,s("form",{onSubmit:C(I,["prevent"])},[s("div",q,[m(s("input",{"onUpdate:modelValue":d[0]||(d[0]=r=>i.value=r),class:"input is-normal",placeholder:"Post title"},null,512),[[h,i.value]])]),L,s("div",P,[m(s("textarea",{"onUpdate:modelValue":d[1]||(d[1]=r=>n.value=r),class:"textarea",placeholder:"Write a post"},null,512),[[h,n.value]])]),ss],40,Q)])]))}},es={class:"navbar",role:"navigation","aria-label":"main navigation"},as=s("div",{id:"navbarBasicExample",class:"navbar-menu"},[s("div",{class:"navbar-start"},[s("div",{class:"navbar-item title"}," TASK DASHBOARD ")])],-1),is=s("strong",null,"Log out",-1),ns=[is],os={__name:"Navbar",setup(e){const t=w(),a=z(),i=async()=>{try{await t.logout(),a.push({name:"login"})}finally{}};return(n,I)=>(c(),l("nav",es,[as,s("div",{class:"navbar-end"},[s("div",{class:"navbar-item"},[s("div",{class:"buttons"},[s("button",{onClick:i,class:"button"},ns)])])])]))}},cs={class:"section"},ls={class:"container"},ps={__name:"Home",setup(e){p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=y();return t.getTasks(),(a,i)=>(c(),l("div",cs,[s("div",ls,[b(os),b(ts),(c(!0),l(Z,null,J(V(t).task,n=>(c(),l("div",null,[b(F,{task:n},null,8,["task"])]))),256))])]))}};export{ps as default};
