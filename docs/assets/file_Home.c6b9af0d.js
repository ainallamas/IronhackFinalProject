import{c as _,u as g,d as J,r as p,o,a as n,b as s,n as I,t as C,e as V,w as b,v,p as x,f as N,g as X,h as O,i as f,F as j,j as M,k as $}from"./file_index.c4f6b219.js";import{_ as m}from"./file__plugin-vue_export-helper.e718e6fb.js";const r=_("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),U=g(),T=J("task",{state:()=>({task:void 0}),actions:{async getTasks(){const{data:e,error:t}=await r.from("task").select("*").order("id",{ascending:!1});return this.task=e,console.log(e),this.task},async newTask(e,t){await r.from("task").insert([{user_id:U.user.id,title:e,isCreated:!1,description:t}])},async updateTask(e,t,a){await r.from("task").update({title:e,description:t}).eq("id",a)},async deleteTask(e){await r.from("task").delete().eq("id",e)},async doneTask(e,t){console.log(t);try{const{data:a,error:i}=await r.from("task").update({isCreated:!t}).match({id:e})}catch(a){console.log("This is my error",a)}}},persist:{enabled:!0}});_("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const S=e=>(x("data-v-ea76baf7"),e=e(),N(),e),D={class:"section"},G={class:"container"},Y={class:"task-title"},A={class:"task-description"},W={class:"task-buttons"},B={class:"field"},K={class:"control"},H={class:"field"},F={class:"control"},E=S(()=>s("strong",null,"Accept",-1)),R=[E],Q=S(()=>s("strong",null,"Cancel",-1)),P=[Q],q={__name:"TaskCard",props:{task:Object},setup(e){const t=e;_("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const a=T(),i=p(!1),l=async()=>{await a.deleteTask(t.task.id),await a.getTasks()},d=async()=>{await a.doneTask(t.task.id,t.task.isCreated),await a.getTasks()},c=p({title:t.task.title,description:t.task.description}),w=()=>{i.value=!0},z=async()=>{i.value=!1,c.value.title=t.task.title,c.value.description=t.task.description,await a.updateTask(t.task.title,t.task.description,t.task.id)},u=async()=>{i.value=!1,await a.updateTask(c.value.title,c.value.description,t.task.id),await a.getTasks()};return(k,h)=>(o(),n("div",D,[s("div",G,[i.value?(o(),n("div",{key:1,class:I(["task-card tarea has-text-centered",{done:t.task.isCreated}])},[s("div",B,[s("div",K,[b(s("input",{"onUpdate:modelValue":h[0]||(h[0]=y=>c.value.title=y),class:"input is-normal",placeholder:"Post the new title"},null,512),[[v,c.value.title]])])]),s("div",H,[s("div",F,[b(s("textarea",{"onUpdate:modelValue":h[1]||(h[1]=y=>c.value.description=y),class:"textarea",placeholder:"Write a new post description"},null,512),[[v,c.value.description]])])]),s("div",{class:"field"},[s("div",{class:"control"},[s("button",{onClick:u,class:"button submit-button is-size-5 has-text-weight-bold"},R),s("button",{onClick:z,class:"button submit-button is-size-5 has-text-weight-bold"},P)])])],2)):(o(),n("div",{key:0,class:I(["task-card has-text-centered",{done:t.task.isCreated}])},[s("div",Y,[s("div",{class:I(["title tasca",{fet:t.task.isCreated}])},C(t.task.title),3)]),s("div",A,[s("div",{class:I(["subtitle tasca",{fet:t.task.isCreated}])},C(t.task.description),3)]),s("div",W,[t.task.isCreated?V("",!0):(o(),n("button",{key:0,onClick:w,class:"button submit-button is-size-5 has-text-weight-bold"},"Edit")),t.task.isCreated?(o(),n("button",{key:2,onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Unfinished")):(o(),n("button",{key:1,onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Done")),s("button",{onClick:l,class:"button submit-button is-size-5 has-text-weight-bold"},"Delete")])],2))])]))}},L=m(q,[["__scopeId","data-v-ea76baf7"]]);const Z=e=>(x("data-v-ffaecef1"),e=e(),N(),e),ss={class:"section"},ts={class:"container"},es={key:0},as={key:1,class:"newtask"},is=Z(()=>s("div",{class:"welcome-message"},[s("h1",{class:"title has-text-weight-bold is-size-1"},"WHAT'S NEXT?")],-1)),os=["onSubmit"],ns={class:"field"},cs={class:"control"},ls={class:"field"},ds={class:"control"},us=Z(()=>s("button",{class:"button is-link is-centered submit-button is-size-5 has-text-weight-bold",type:"submit"},"Save changes",-1)),rs={__name:"NewTask",setup(e){_("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=T(),a=g(),i=p(""),l=p(""),d=p(!0),c=()=>{d.value=!d.value},w=async()=>{await t.newTask(i.value,l.value),console.log(a.user),console.log(i.value,l.value),i.value="",l.value="",t.getTasks()};return(z,u)=>(o(),n("div",ss,[s("div",ts,[d.value?(o(),n("div",es,[s("form",null,[s("button",{onClick:c,class:"button publish is-size-4 has-text-weight-bold"},"POST NEW TASKS")])])):(o(),n("div",as,[is,s("form",{onSubmit:X(w,["prevent"])},[s("div",ns,[s("div",cs,[b(s("input",{"onUpdate:modelValue":u[0]||(u[0]=k=>i.value=k),class:"input",placeholder:"Task title"},null,512),[[v,i.value]])])]),s("div",ls,[s("div",ds,[b(s("textarea",{"onUpdate:modelValue":u[1]||(u[1]=k=>l.value=k),class:"textarea",placeholder:"Write a task description"},null,512),[[v,l.value]])])]),s("div",{class:"field"},[s("div",{class:"control"},[us,s("button",{onClick:c,class:"button is-link is-centered submit-button is-size-5 has-text-weight-bold",type:"submit"},"Don't save changes")])])],40,os)]))])]))}},ps=m(rs,[["__scopeId","data-v-ffaecef1"]]);const _s=e=>(x("data-v-b6735ce6"),e=e(),N(),e),ks={class:"nav-top"},hs=_s(()=>s("div",{class:"navbar-menu"},[s("div",{class:"navbar-start"},[s("div",{class:"navbar-item title is-size-1 has-text-weight-bold"}," POST(PONE) IT ")])],-1)),Is={__name:"Navbar",setup(e){const t=g(),a=O(),i=async()=>{try{await t.logout(),a.push({name:"login"})}finally{}};return(l,d)=>(o(),n("div",ks,[s("nav",{class:"navbar",role:"navigation","aria-label":"main navigation"},[hs,s("div",{class:"navbar-end"},[s("div",{class:"navbar-item"},[s("div",{class:"buttons"},[s("button",{onClick:i,class:"button is-link is-centered logout-button is-size-4 has-text-weight-bold"}," Log out ")])])])])]))}},bs=m(Is,[["__scopeId","data-v-b6735ce6"]]);const vs={class:"section"},ms={class:"container"},ws={class:"columns is-multiline"},ys={class:"column is-12-mobile is-6-tablet is-4-desktop"},fs={__name:"Home",setup(e){_("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=T();return t.getTasks(),(a,i)=>(o(),n("div",vs,[s("div",ms,[f(bs),f(ps),s("div",ws,[(o(!0),n(j,null,M($(t).task,l=>(o(),n("div",ys,[f(L,{task:l},null,8,["task"])]))),256))])])]))}},Ns=m(fs,[["__scopeId","data-v-a7e3f75a"]]);export{Ns as default};
