import{c as h,u as g,d as J,o as n,a as c,b as s,r as p,n as I,t as z,e as S,f as O,w as m,v as w,p as C,g as x,h as V,i as X,j as M,k as y,F as D,l as j,m as U}from"./file_index.58c2a2c9.js";import{_ as f}from"./file__plugin-vue_export-helper.e718e6fb.js";const b=h("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),G=g(),T=J("task",{state:()=>({task:void 0}),actions:{async getTasks(){const{data:e,error:t}=await b.from("task").select("*").order("id",{ascending:!1});return this.task=e,console.log(e),this.task},async newTask(e,t){await b.from("task").insert([{user_id:G.user.id,title:e,isCreated:!1,description:t}])},async updateTask(e,t,i){await b.from("task").update({title:e,description:t}).eq("id",i)},async deleteTask(e){await b.from("task").delete().eq("id",e)},async doneTask(e,t){console.log(t);try{const{data:i,error:a}=await b.from("task").update({isCreated:!t}).match({id:e})}catch(i){console.log("This is my error",i)}}},persist:{enabled:!0}});h("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const A={class:"modal is-active"},Y=s("div",{class:"modal-background"},null,-1),B=s("p",{class:"modal-card-title"},"ALERT MESSAGE",-1),W=s("section",{class:"modal-card-body"}," Are you sure you wanna delete this POST-IT? ",-1),K={__name:"DeleteConfirmation",emits:["accept","cancel"],setup(e,{emit:t}){const i=()=>{t("accept")},a=()=>{t("cancel")};return(o,l)=>(n(),c("div",A,[Y,s("div",{class:"modal-card"},[s("header",{class:"modal-card-head"},[B,s("button",{onClick:a,class:"delete","aria-label":"close"})]),W,s("footer",{class:"modal-card-foot"},[s("button",{onClick:i,class:"button is-success"},"Delete"),s("button",{onClick:a,class:"button"},"Cancel")])])]))}};const Z=e=>(C("data-v-0999e9af"),e=e(),x(),e),E={class:"section"},H={class:"container"},F={class:"task-title"},R={class:"task-description"},P={class:"task-buttons"},Q={class:"field"},L={class:"control"},q={class:"field"},ss={class:"control"},ts=Z(()=>s("strong",null,"Accept",-1)),es=[ts],as=Z(()=>s("strong",null,"Cancel",-1)),is=[as],os={__name:"TaskCard",props:{task:Object},setup(e){const t=e;h("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const i=T(),a=p(!1),o=p(!1),l=async()=>{await i.deleteTask(t.task.id),await i.getTasks(),o.value=!o.value},d=async()=>{await i.doneTask(t.task.id,t.task.isCreated),await i.getTasks()},u=p({title:t.task.title,description:t.task.description}),N=()=>{a.value=!0},_=async()=>{a.value=!1,u.value.title=t.task.title,u.value.description=t.task.description,await i.updateTask(t.task.title,t.task.description,t.task.id)},k=async()=>{a.value=!1,await i.updateTask(u.value.title,u.value.description,t.task.id),await i.getTasks()};return($s,r)=>(n(),c("div",E,[s("div",H,[a.value?(n(),c("div",{key:1,class:I(["task-card tarea has-text-centered",{done:t.task.isCreated}])},[s("div",Q,[s("div",L,[m(s("input",{"onUpdate:modelValue":r[2]||(r[2]=v=>u.value.title=v),class:"input is-normal",placeholder:"Post the new title"},null,512),[[w,u.value.title]])])]),s("div",q,[s("div",ss,[m(s("textarea",{"onUpdate:modelValue":r[3]||(r[3]=v=>u.value.description=v),class:"textarea",placeholder:"Write a new post description"},null,512),[[w,u.value.description]])])]),s("div",{class:"field"},[s("div",{class:"control"},[s("button",{onClick:k,class:"button submit-button is-size-5 has-text-weight-bold"},es),s("button",{onClick:_,class:"button submit-button is-size-5 has-text-weight-bold"},is)])])],2)):(n(),c("div",{key:0,class:I(["task-card has-text-centered",{done:t.task.isCreated}])},[s("div",F,[s("div",{class:I(["title tasca",{fet:t.task.isCreated}])},z(t.task.title),3)]),s("div",R,[s("div",{class:I(["subtitle tasca",{fet:t.task.isCreated}])},z(t.task.description),3)]),s("div",P,[t.task.isCreated?S("",!0):(n(),c("button",{key:0,onClick:N,class:"button submit-button is-size-5 has-text-weight-bold"},"Edit")),t.task.isCreated?(n(),c("button",{key:2,onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Unfinished")):(n(),c("button",{key:1,onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Done")),s("button",{onClick:r[0]||(r[0]=v=>o.value=!0),class:"button submit-button is-size-5 has-text-weight-bold"},"Delete"),o.value?(n(),O(K,{key:3,onAccept:l,onCancel:r[1]||(r[1]=v=>o.value=!1)})):S("",!0)])],2))])]))}},ns=f(os,[["__scopeId","data-v-0999e9af"]]);const $=e=>(C("data-v-311c8c97"),e=e(),x(),e),ls={class:"section"},cs={class:"container"},ds={key:0},us={key:1,class:"newtask"},rs=$(()=>s("div",{class:"welcome-message"},[s("h1",{class:"title has-text-weight-bold is-size-1"},"WHAT'S NEXT?")],-1)),ps=["onSubmit"],_s={class:"field"},ks={class:"control"},vs={class:"field"},bs={class:"control"},hs=$(()=>s("div",{class:"column"},[s("button",{class:"button is-link is-centered submit-button is-size-5 has-text-weight-bold is-fullwidth",type:"submit"}," Save changes ")],-1)),Is={__name:"NewTask",setup(e){h("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=T(),i=g(),a=p(""),o=p(""),l=p(!0),d=()=>{l.value=!l.value},u=async()=>{await t.newTask(a.value,o.value),console.log(i.user),console.log(a.value,o.value),a.value="",o.value="",t.getTasks()};return(N,_)=>(n(),c("div",ls,[s("div",cs,[l.value?(n(),c("div",ds,[s("form",null,[s("button",{onClick:d,class:"button publish is-size-4 has-text-weight-bold"}," POST NEW TASKS ")])])):(n(),c("div",us,[rs,s("form",{onSubmit:V(u,["prevent"])},[s("div",_s,[s("div",ks,[m(s("input",{"onUpdate:modelValue":_[0]||(_[0]=k=>a.value=k),class:"input",placeholder:"Task title"},null,512),[[w,a.value]])])]),s("div",vs,[s("div",bs,[m(s("textarea",{"onUpdate:modelValue":_[1]||(_[1]=k=>o.value=k),class:"textarea",placeholder:"Write a task description"},null,512),[[w,o.value]])])]),s("div",{class:"field"},[s("div",{class:"save-button control columns"},[hs,s("div",{class:"column"},[s("button",{onClick:d,class:"save-button button is-link is-centered submit-button is-size-5 has-text-weight-bold is-fullwidth",type:"submit"}," Don't save changes ")])])])],40,ps)]))])]))}},ms=f(Is,[["__scopeId","data-v-311c8c97"]]);const ws=e=>(C("data-v-61ddbaf9"),e=e(),x(),e),fs={class:"nav-top"},ys=ws(()=>s("div",{class:"navbar-menu"},[s("div",{class:"navbar-start"},[s("div",{class:"navbar-item title is-size-1 has-text-weight-bold"}," POST(PONE) IT ")])],-1)),gs={__name:"Navbar",setup(e){const t=g(),i=X(),a=async()=>{try{await t.logout(),i.push({name:"login"})}finally{}};return(o,l)=>(n(),c("div",fs,[s("nav",{class:"navbar",role:"navigation","aria-label":"main navigation"},[ys,s("div",{class:"navbar-end"},[s("div",{class:"navbar-item"},[s("div",{class:"buttons"},[s("button",{onClick:a,class:"button is-link is-centered logout-button is-size-4 has-text-weight-bold"}," Log out ")])])])])]))}},Cs=f(gs,[["__scopeId","data-v-61ddbaf9"]]);const xs={class:"section"},Ts={class:"container"},Ns={class:"mb-5"},zs={class:"columns is-multiline"},Ss={class:"column is-12-mobile is-6-tablet is-4-desktop"},Zs={__name:"Home",setup(e){h("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=T(),i=M(()=>a.value=="all"?t.task:a.value=="done"?t.task.filter(o=>o.isCreated==!0):t.task.filter(o=>o.isCreated==!1)),a=p("all");return t.getTasks(),(o,l)=>(n(),c("div",xs,[s("div",Ts,[y(Cs),y(ms),s("div",Ns,[s("button",{class:"button",onClick:l[0]||(l[0]=d=>a.value="all")},"All"),s("button",{class:"button",onClick:l[1]||(l[1]=d=>a.value="done")},"Done"),s("button",{class:"button",onClick:l[2]||(l[2]=d=>a.value="unfinished")},"Unfinished")]),s("div",zs,[(n(!0),c(D,null,j(U(i),d=>(n(),c("div",Ss,[y(ns,{task:d},null,8,["task"])]))),256))])])]))}},Vs=f(Zs,[["__scopeId","data-v-6a995b20"]]);export{Vs as default};
