import{c as m,u as T,d as O,o as n,a as c,b as t,p as I,e as w,r as _,n as f,t as C,f as $,g as V,w as g,v as x,h as X,i as D,j as M,k as y,F as j,l as U,m as G}from"./file_index.cc74238e.js";import{_ as h}from"./file__plugin-vue_export-helper.e718e6fb.js";const k=m("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),A=T(),z=O("task",{state:()=>({task:void 0}),actions:{async getTasks(){const{data:e,error:s}=await k.from("task").select("*").order("id",{ascending:!1});return this.task=e,console.log(e),this.task},async newTask(e,s){await k.from("task").insert([{user_id:A.user.id,title:e,isCreated:!1,description:s}])},async updateTask(e,s,i){await k.from("task").update({title:e,description:s}).eq("id",i)},async deleteTask(e){await k.from("task").delete().eq("id",e)},async doneTask(e,s){console.log(s);try{const{data:i,error:a}=await k.from("task").update({isCreated:!s}).match({id:e})}catch(i){console.log("This is my error",i)}}},persist:{enabled:!0}});m("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const N=e=>(I("data-v-28e7b504"),e=e(),w(),e),Y={class:"modal is-active"},B=N(()=>t("div",{class:"modal-background"},null,-1)),W=N(()=>t("p",{class:"modal-card-title"},"ALERT MESSAGE",-1)),K=N(()=>t("section",{class:"modal-card-body"}," Are you sure you wanna delete this POST-IT? ",-1)),E={__name:"DeleteConfirmation",emits:["accept","cancel"],setup(e,{emit:s}){const i=()=>{s("accept")},a=()=>{s("cancel")};return(o,l)=>(n(),c("div",Y,[B,t("div",{class:"modal-card"},[t("header",{class:"modal-card-head"},[W,t("button",{onClick:a,class:"delete","aria-label":"close"})]),K,t("footer",{class:"modal-card-foot"},[t("button",{onClick:i,class:"button delete-button"},"Delete"),t("button",{onClick:a,class:"button cancel-button"},"Cancel")])])]))}},F=h(E,[["__scopeId","data-v-28e7b504"]]);const Z=e=>(I("data-v-477ff985"),e=e(),w(),e),H={class:"section"},P={class:"container"},R={class:"task-title"},Q={class:"title date is-size-6 has-text-right"},L={class:"task-title"},q={class:"task-description"},tt={class:"task-buttons"},st={class:"field"},et={class:"control"},at={class:"field"},it={class:"control"},ot=Z(()=>t("strong",null,"Accept",-1)),nt=[ot],ct=Z(()=>t("strong",null,"Cancel",-1)),lt=[ct],dt={__name:"TaskCard",props:{task:Object},setup(e){const s=e;m("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const i=z(),a=_(!1),o=_(!1),l=async()=>{await i.deleteTask(s.task.id),await i.getTasks(),o.value=!o.value},d=async()=>{await i.doneTask(s.task.id,s.task.isCreated),await i.getTasks()},u=_({title:s.task.title,description:s.task.description}),S=()=>{a.value=!0},p=async()=>{a.value=!1,u.value.title=s.task.title,u.value.description=s.task.description,await i.updateTask(s.task.title,s.task.description,s.task.id)},v=async()=>{a.value=!1,await i.updateTask(u.value.title,u.value.description,s.task.id),await i.getTasks()};return(Yt,r)=>(n(),c("div",H,[t("div",P,[a.value?(n(),c("div",{key:1,class:f(["task-card tarea has-text-centered",{done:s.task.isCreated}])},[t("div",st,[t("div",et,[g(t("input",{"onUpdate:modelValue":r[2]||(r[2]=b=>u.value.title=b),class:"input is-normal is-warning",placeholder:"Post the new title"},null,512),[[x,u.value.title]])])]),t("div",at,[t("div",it,[g(t("textarea",{"onUpdate:modelValue":r[3]||(r[3]=b=>u.value.description=b),class:"textarea is-warning",placeholder:"Write a new post description"},null,512),[[x,u.value.description]])])]),t("div",{class:"field"},[t("div",{class:"control"},[t("button",{onClick:v,class:"button submit-button is-size-5 has-text-weight-bold"},nt),t("button",{onClick:p,class:"button submit-button is-size-5 has-text-weight-bold"},lt)])])],2)):(n(),c("div",{key:0,class:f(["task-card has-text-centered",{done:s.task.isCreated}])},[t("div",R,[t("div",Q,C(s.task.created_at),1)]),t("div",L,[t("div",{class:f(["title tasca",{fet:s.task.isCreated}])},C(s.task.title),3)]),t("div",q,[t("div",{class:f(["subtitle tasca",{fet:s.task.isCreated}])},C(s.task.description),3)]),t("div",tt,[s.task.isCreated?$("",!0):(n(),c("button",{key:0,onClick:S,class:"button submit-button is-size-5 has-text-weight-bold"},"Edit")),s.task.isCreated?(n(),c("button",{key:2,onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Unfinished")):(n(),c("button",{key:1,onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Done")),t("button",{onClick:r[0]||(r[0]=b=>o.value=!0),class:"button submit-button is-size-5 has-text-weight-bold"},"Delete"),o.value?(n(),V(F,{key:3,onAccept:l,onCancel:r[1]||(r[1]=b=>o.value=!1)})):$("",!0)])],2))])]))}},ut=h(dt,[["__scopeId","data-v-477ff985"]]);const J=e=>(I("data-v-88c588e4"),e=e(),w(),e),rt={class:"section"},_t={class:"container"},pt={key:0,class:"welcome-message"},ht={key:1,class:"newtask"},vt=J(()=>t("div",{class:"welcome-message"},[t("h1",{class:"title submit-button title-style has-text-weight-bold is-size-1"},"WHAT'S NEXT?")],-1)),bt=["onSubmit"],kt={class:"field"},mt={class:"control"},It={class:"field"},wt={class:"control"},ft=J(()=>t("div",{class:"column"},[t("button",{class:"save-button button is-link is-centered change-button is-size-5 has-text-weight-bold is-fullwidth",type:"submit"}," Save changes ")],-1)),yt={__name:"NewTask",setup(e){m("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const s=z(),i=T(),a=_(""),o=_(""),l=_(!0),d=()=>{l.value=!l.value},u=async()=>{a.value!==""&&o.value!==""&&(await s.newTask(a.value,o.value),console.log(i.user),console.log(a.value,o.value),a.value="",o.value="",s.getTasks())};return(S,p)=>(n(),c("div",rt,[t("div",_t,[l.value?(n(),c("div",pt,[t("form",null,[t("button",{onClick:d,class:"save-button button is-centered submit-button is-size-3 has-text-weight-bold",type:"submit"}," POST NEW TASKS ")])])):(n(),c("div",ht,[vt,t("form",{onSubmit:X(u,["prevent"])},[t("div",kt,[t("div",mt,[g(t("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>a.value=v),class:"input is-warning",placeholder:"Task title"},null,512),[[x,a.value]])])]),t("div",It,[t("div",wt,[g(t("textarea",{"onUpdate:modelValue":p[1]||(p[1]=v=>o.value=v),class:"textarea is-warning",placeholder:"Write a task description"},null,512),[[x,o.value]])])]),t("div",{class:"field"},[t("div",{class:"control columns"},[ft,t("div",{class:"column"},[t("button",{onClick:d,class:"save-button button is-link is-centered change-button is-size-5 has-text-weight-bold is-fullwidth",type:"submit"}," Don't save changes ")])])])],40,bt)]))])]))}},gt=h(yt,[["__scopeId","data-v-88c588e4"]]);const xt=e=>(I("data-v-9a47709d"),e=e(),w(),e),Ct={class:"navbar",role:"navigation","aria-label":"main navigation"},Tt=xt(()=>t("div",{class:"navbar-menu"},[t("div",{class:"navbar-start"},[t("div",{class:"navbar-item title is-size-1 has-text-weight-bold"}," POST(PONE) IT ")])],-1)),zt={__name:"Navbar",setup(e){const s=T(),i=D(),a=async()=>{try{await s.logout(),i.push({name:"login"})}finally{}};return(o,l)=>(n(),c("nav",Ct,[Tt,t("div",{class:"navbar-end"},[t("div",{class:"navbar-item"},[t("div",{class:"buttons"},[t("button",{onClick:a,class:"button is-link is-centered logout-button is-size-4 has-text-weight-bold"}," Log out ")])])])]))}},Nt=h(zt,[["__scopeId","data-v-9a47709d"]]);const St={},$t=e=>(I("data-v-f0596322"),e=e(),w(),e),Zt={class:"footer"},Jt=$t(()=>t("div",{class:"content has-text-centered"},[t("p",{class:"is-size-6 has-text-weight-bold author"}," POST(PONE) IT by Aina Llamas "),t("p",{class:"date"}," October 2022 ")],-1)),Ot=[Jt];function Vt(e,s){return n(),c("footer",Zt,Ot)}const Xt=h(St,[["render",Vt],["__scopeId","data-v-f0596322"]]);const Dt={class:"section"},Mt={class:"container"},jt={class:"mb-5 filter-buttons"},Ut={class:"columns is-multiline"},Gt={class:"column is-12-mobile is-6-tablet is-4-desktop"},At={__name:"Home",setup(e){m("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const s=z(),i=M(()=>a.value=="all"?s.task:a.value=="done"?s.task.filter(o=>o.isCreated==!0):s.task.filter(o=>o.isCreated==!1)),a=_("all");return s.getTasks(),(o,l)=>(n(),c("div",Dt,[t("div",Mt,[y(Nt),y(gt),t("div",jt,[t("button",{class:"button submit-button is-size-5 has-text-weight-bold",onClick:l[0]||(l[0]=d=>a.value="all")},"All"),t("button",{class:"button submit-button is-size-5 has-text-weight-bold",onClick:l[1]||(l[1]=d=>a.value="done")},"Done"),t("button",{class:"button submit-button is-size-5 has-text-weight-bold",onClick:l[2]||(l[2]=d=>a.value="unfinished")},"Unfinished")]),t("div",Ut,[(n(!0),c(j,null,U(G(i),d=>(n(),c("div",Gt,[y(ut,{task:d},null,8,["task"])]))),256))]),y(Xt)])]))}},Kt=h(At,[["__scopeId","data-v-4479d46c"]]);export{Kt as default};
