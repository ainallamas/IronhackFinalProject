import{c as p,u as g,d as Z,r as h,o as c,a as l,b as s,n as k,t as T,w as v,v as b,p as f,e as x,f as J,g as V,h as y,F as X,i as O,j}from"./file_index.3e1d13e9.js";import{_ as m}from"./file__plugin-vue_export-helper.e718e6fb.js";const u=p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),M=g(),N=Z("task",{state:()=>({task:void 0}),actions:{async getTasks(){const{data:e,error:t}=await u.from("task").select("*").order("id",{ascending:!1});return this.task=e,console.log(e),this.task},async newTask(e,t){await u.from("task").insert([{user_id:M.user.id,title:e,isCreated:!1,description:t}])},async updateTask(e,t,a){await u.from("task").update({title:e,description:t}).eq("id",a)},async deleteTask(e){await u.from("task").delete().eq("id",e)},async doneTask(e,t){console.log(t);try{const{data:a,error:i}=await u.from("task").update({isCreated:!t}).match({id:e})}catch(a){console.log("This is my error",a)}}},persist:{enabled:!0}});p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const z=e=>(f("data-v-92d46976"),e=e(),x(),e),G={class:"section"},U={class:"container"},$={class:"task-title"},D={class:"task-description"},Y={class:"field"},A={class:"control"},B={class:"field"},W={class:"control"},K=z(()=>s("strong",null,"Accept",-1)),H=[K],F=z(()=>s("strong",null,"Cancel",-1)),R=[F],E={__name:"TaskCard",props:{task:Object},setup(e){const t=e;p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const a=N(),i=h(!1),o=async()=>{await a.deleteTask(t.task.id),await a.getTasks()},_=async()=>{await a.doneTask(t.task.id,t.task.isCreated),await a.getTasks()},n=h({title:t.task.title,description:t.task.description}),d=()=>{i.value=!0},r=async()=>{i.value=!1,n.value.title=t.task.title,n.value.description=t.task.description,await a.updateTask(t.task.title,t.task.description,t.task.id)},C=async()=>{i.value=!1,await a.updateTask(n.value.title,n.value.description,t.task.id),await a.getTasks()};return(bs,I)=>(c(),l("div",G,[s("div",U,[i.value?(c(),l("div",{key:1,class:k(["task-card tarea has-text-centered",{done:t.task.isCreated}])},[s("div",Y,[s("div",A,[v(s("input",{"onUpdate:modelValue":I[0]||(I[0]=w=>n.value.title=w),class:"input is-normal",placeholder:"Post the new title"},null,512),[[b,n.value.title]])])]),s("div",B,[s("div",W,[v(s("textarea",{"onUpdate:modelValue":I[1]||(I[1]=w=>n.value.description=w),class:"textarea",placeholder:"Write a new post description"},null,512),[[b,n.value.description]])])]),s("div",{class:"field"},[s("div",{class:"control"},[s("button",{onClick:C,class:"button submit-button is-size-5 has-text-weight-bold"},H),s("button",{onClick:r,class:"button submit-button is-size-5 has-text-weight-bold"},R)])])],2)):(c(),l("div",{key:0,class:k(["task-card has-text-centered",{done:t.task.isCreated}])},[s("div",$,[s("div",{class:k(["title tasca",{fet:t.task.isCreated}])},T(t.task.title),3)]),s("div",D,[s("div",{class:k(["subtitle tasca",{fet:t.task.isCreated}])},T(t.task.description),3)]),s("div",{class:"task-buttons"},[s("button",{onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Edit"),s("button",{onClick:_,class:"button submit-button is-size-5 has-text-weight-bold"},"Done"),s("button",{onClick:o,class:"button submit-button is-size-5 has-text-weight-bold"},"Delete")])],2))])]))}},Q=m(E,[["__scopeId","data-v-92d46976"]]);const S=e=>(f("data-v-3b26a8f6"),e=e(),x(),e),P={class:"section"},q={class:"container"},L=S(()=>s("div",{class:"welcome-message"},[s("h1",{class:"title has-text-weight-bold is-size-1"},"WHAT'S NEXT?")],-1)),ss=["onSubmit"],ts={class:"field"},es={class:"control"},as={class:"field"},is={class:"control"},os=S(()=>s("div",{class:"field"},[s("div",{class:"control"},[s("button",{class:"button is-link is-centered submit-button is-size-5 has-text-weight-bold",type:"submit"},"Submit")])],-1)),ns={__name:"NewTask",setup(e){p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=N(),a=g(),i=h(""),o=h(""),_=async()=>{await t.newTask(i.value,o.value),console.log(a.user),console.log(i.value,o.value),i.value="",o.value="",t.getTasks()};return(n,d)=>(c(),l("div",P,[s("div",q,[L,s("form",{onSubmit:J(_,["prevent"])},[s("div",ts,[s("div",es,[v(s("input",{"onUpdate:modelValue":d[0]||(d[0]=r=>i.value=r),class:"input",placeholder:"Task title"},null,512),[[b,i.value]])])]),s("div",as,[s("div",is,[v(s("textarea",{"onUpdate:modelValue":d[1]||(d[1]=r=>o.value=r),class:"textarea",placeholder:"Write a task description"},null,512),[[b,o.value]])])]),os],40,ss)])]))}},cs=m(ns,[["__scopeId","data-v-3b26a8f6"]]);const ls=e=>(f("data-v-6705ba7e"),e=e(),x(),e),ds={class:"nav-top"},rs=ls(()=>s("div",{class:"navbar-menu"},[s("div",{class:"navbar-start"},[s("div",{class:"navbar-item title has-text-weight-bold is-size-1"}," POST(PONE) IT ")])],-1)),us={__name:"Navbar",setup(e){const t=g(),a=V(),i=async()=>{try{await t.logout(),a.push({name:"login"})}finally{}};return(o,_)=>(c(),l("div",ds,[s("nav",{class:"navbar",role:"navigation","aria-label":"main navigation"},[rs,s("div",{class:"navbar-end"},[s("div",{class:"navbar-item"},[s("div",{class:"buttons"},[s("button",{onClick:i,class:"button is-link is-centered logout-button is-size-4 has-text-weight-bold"}," Log out ")])])])])]))}},ps=m(us,[["__scopeId","data-v-6705ba7e"]]);const _s={class:"section"},Is={class:"container"},ks={class:"columns is-multiline"},hs={class:"column is-12-mobile is-6-tablet is-4-desktop"},vs={__name:"Home",setup(e){p("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=N();return t.getTasks(),(a,i)=>(c(),l("div",_s,[s("div",Is,[y(ps),y(cs),s("div",ks,[(c(!0),l(X,null,O(j(t).task,o=>(c(),l("div",hs,[y(Q,{task:o},null,8,["task"])]))),256))])])]))}},ys=m(vs,[["__scopeId","data-v-a7e3f75a"]]);export{ys as default};
