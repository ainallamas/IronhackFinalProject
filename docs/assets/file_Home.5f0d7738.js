import{c as I,u as C,d as O,o as n,a as c,b as t,p as m,e as f,r as _,n as w,t as S,f as $,g as V,w as g,v as x,h as X,i as D,j as M,k as y,F as j,l as U,m as G}from"./file_index.841b926b.js";import{_ as b}from"./file__plugin-vue_export-helper.e718e6fb.js";const k=I("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),A=C(),T=O("task",{state:()=>({task:void 0}),actions:{async getTasks(){const{data:e,error:s}=await k.from("task").select("*").order("id",{ascending:!1});return this.task=e,console.log(e),this.task},async newTask(e,s){await k.from("task").insert([{user_id:A.user.id,title:e,isCreated:!1,description:s}])},async updateTask(e,s,o){await k.from("task").update({title:e,description:s}).eq("id",o)},async deleteTask(e){await k.from("task").delete().eq("id",e)},async doneTask(e,s){console.log(s);try{const{data:o,error:a}=await k.from("task").update({isCreated:!s}).match({id:e})}catch(o){console.log("This is my error",o)}}},persist:{enabled:!0}});I("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const N=e=>(m("data-v-28e7b504"),e=e(),f(),e),Y={class:"modal is-active"},B=N(()=>t("div",{class:"modal-background"},null,-1)),W=N(()=>t("p",{class:"modal-card-title"},"ALERT MESSAGE",-1)),K=N(()=>t("section",{class:"modal-card-body"}," Are you sure you wanna delete this POST-IT? ",-1)),E={__name:"DeleteConfirmation",emits:["accept","cancel"],setup(e,{emit:s}){const o=()=>{s("accept")},a=()=>{s("cancel")};return(i,l)=>(n(),c("div",Y,[B,t("div",{class:"modal-card"},[t("header",{class:"modal-card-head"},[W,t("button",{onClick:a,class:"delete","aria-label":"close"})]),K,t("footer",{class:"modal-card-foot"},[t("button",{onClick:o,class:"button delete-button"},"Delete"),t("button",{onClick:a,class:"button cancel-button"},"Cancel")])])]))}},F=b(E,[["__scopeId","data-v-28e7b504"]]);const Z=e=>(m("data-v-0999e9af"),e=e(),f(),e),H={class:"section"},P={class:"container"},R={class:"task-title"},Q={class:"task-description"},L={class:"task-buttons"},q={class:"field"},tt={class:"control"},st={class:"field"},et={class:"control"},at=Z(()=>t("strong",null,"Accept",-1)),ot=[at],it=Z(()=>t("strong",null,"Cancel",-1)),nt=[it],ct={__name:"TaskCard",props:{task:Object},setup(e){const s=e;I("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const o=T(),a=_(!1),i=_(!1),l=async()=>{await o.deleteTask(s.task.id),await o.getTasks(),i.value=!i.value},d=async()=>{await o.doneTask(s.task.id,s.task.isCreated),await o.getTasks()},u=_({title:s.task.title,description:s.task.description}),z=()=>{a.value=!0},p=async()=>{a.value=!1,u.value.title=s.task.title,u.value.description=s.task.description,await o.updateTask(s.task.title,s.task.description,s.task.id)},v=async()=>{a.value=!1,await o.updateTask(u.value.title,u.value.description,s.task.id),await o.getTasks()};return(Gt,r)=>(n(),c("div",H,[t("div",P,[a.value?(n(),c("div",{key:1,class:w(["task-card tarea has-text-centered",{done:s.task.isCreated}])},[t("div",q,[t("div",tt,[g(t("input",{"onUpdate:modelValue":r[2]||(r[2]=h=>u.value.title=h),class:"input is-normal",placeholder:"Post the new title"},null,512),[[x,u.value.title]])])]),t("div",st,[t("div",et,[g(t("textarea",{"onUpdate:modelValue":r[3]||(r[3]=h=>u.value.description=h),class:"textarea",placeholder:"Write a new post description"},null,512),[[x,u.value.description]])])]),t("div",{class:"field"},[t("div",{class:"control"},[t("button",{onClick:v,class:"button submit-button is-size-5 has-text-weight-bold"},ot),t("button",{onClick:p,class:"button submit-button is-size-5 has-text-weight-bold"},nt)])])],2)):(n(),c("div",{key:0,class:w(["task-card has-text-centered",{done:s.task.isCreated}])},[t("div",R,[t("div",{class:w(["title tasca",{fet:s.task.isCreated}])},S(s.task.title),3)]),t("div",Q,[t("div",{class:w(["subtitle tasca",{fet:s.task.isCreated}])},S(s.task.description),3)]),t("div",L,[s.task.isCreated?$("",!0):(n(),c("button",{key:0,onClick:z,class:"button submit-button is-size-5 has-text-weight-bold"},"Edit")),s.task.isCreated?(n(),c("button",{key:2,onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Unfinished")):(n(),c("button",{key:1,onClick:d,class:"button submit-button is-size-5 has-text-weight-bold"},"Done")),t("button",{onClick:r[0]||(r[0]=h=>i.value=!0),class:"button submit-button is-size-5 has-text-weight-bold"},"Delete"),i.value?(n(),V(F,{key:3,onAccept:l,onCancel:r[1]||(r[1]=h=>i.value=!1)})):$("",!0)])],2))])]))}},lt=b(ct,[["__scopeId","data-v-0999e9af"]]);const J=e=>(m("data-v-b271c84f"),e=e(),f(),e),dt={class:"section"},ut={class:"container"},rt={key:0},_t={key:1,class:"newtask"},pt=J(()=>t("div",{class:"welcome-message"},[t("h1",{class:"title has-text-weight-bold is-size-1"},"WHAT'S NEXT?")],-1)),bt=["onSubmit"],vt={class:"field"},ht={class:"control"},kt={class:"field"},It={class:"control"},mt=J(()=>t("div",{class:"column"},[t("button",{class:"button is-link is-centered submit-button is-size-5 has-text-weight-bold is-fullwidth",type:"submit"}," Save changes ")],-1)),ft={__name:"NewTask",setup(e){I("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const s=T(),o=C(),a=_(""),i=_(""),l=_(!0),d=()=>{l.value=!l.value},u=async()=>{await s.newTask(a.value,i.value),console.log(o.user),console.log(a.value,i.value),a.value="",i.value="",s.getTasks()};return(z,p)=>(n(),c("div",dt,[t("div",ut,[l.value?(n(),c("div",rt,[t("form",null,[t("button",{onClick:d,class:"publicar-tarea is-size-3 has-text-weight-bold"}," POST NEW TASKS ")])])):(n(),c("div",_t,[pt,t("form",{onSubmit:X(u,["prevent"])},[t("div",vt,[t("div",ht,[g(t("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>a.value=v),class:"input",placeholder:"Task title"},null,512),[[x,a.value]])])]),t("div",kt,[t("div",It,[g(t("textarea",{"onUpdate:modelValue":p[1]||(p[1]=v=>i.value=v),class:"textarea",placeholder:"Write a task description"},null,512),[[x,i.value]])])]),t("div",{class:"field"},[t("div",{class:"save-button control columns"},[mt,t("div",{class:"column"},[t("button",{onClick:d,class:"save-button button is-link is-centered submit-button is-size-5 has-text-weight-bold is-fullwidth",type:"submit"}," Don't save changes ")])])])],40,bt)]))])]))}},wt=b(ft,[["__scopeId","data-v-b271c84f"]]);const yt=e=>(m("data-v-61ddbaf9"),e=e(),f(),e),gt={class:"nav-top"},xt=yt(()=>t("div",{class:"navbar-menu"},[t("div",{class:"navbar-start"},[t("div",{class:"navbar-item title is-size-1 has-text-weight-bold"}," POST(PONE) IT ")])],-1)),Ct={__name:"Navbar",setup(e){const s=C(),o=D(),a=async()=>{try{await s.logout(),o.push({name:"login"})}finally{}};return(i,l)=>(n(),c("div",gt,[t("nav",{class:"navbar",role:"navigation","aria-label":"main navigation"},[xt,t("div",{class:"navbar-end"},[t("div",{class:"navbar-item"},[t("div",{class:"buttons"},[t("button",{onClick:a,class:"button is-link is-centered logout-button is-size-4 has-text-weight-bold"}," Log out ")])])])])]))}},Tt=b(Ct,[["__scopeId","data-v-61ddbaf9"]]);const Nt={},zt=e=>(m("data-v-f0596322"),e=e(),f(),e),St={class:"footer"},$t=zt(()=>t("div",{class:"content has-text-centered"},[t("p",{class:"is-size-6 has-text-weight-bold author"}," POST(PONE) IT by Aina Llamas "),t("p",{class:"date"}," October 2022 ")],-1)),Zt=[$t];function Jt(e,s){return n(),c("footer",St,Zt)}const Ot=b(Nt,[["render",Jt],["__scopeId","data-v-f0596322"]]);const Vt={class:"section"},Xt={class:"container"},Dt={class:"mb-5 filter-buttons"},Mt={class:"columns is-multiline"},jt={class:"column is-12-mobile is-6-tablet is-4-desktop"},Ut={__name:"Home",setup(e){I("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const s=T(),o=M(()=>a.value=="all"?s.task:a.value=="done"?s.task.filter(i=>i.isCreated==!0):s.task.filter(i=>i.isCreated==!1)),a=_("all");return s.getTasks(),(i,l)=>(n(),c("div",Vt,[t("div",Xt,[y(Tt),y(wt),t("div",Dt,[t("button",{class:"button submit-button is-size-5 has-text-weight-bold",onClick:l[0]||(l[0]=d=>a.value="all")},"All"),t("button",{class:"button submit-button is-size-5 has-text-weight-bold",onClick:l[1]||(l[1]=d=>a.value="done")},"Done"),t("button",{class:"button submit-button is-size-5 has-text-weight-bold",onClick:l[2]||(l[2]=d=>a.value="unfinished")},"Unfinished")]),t("div",Mt,[(n(!0),c(j,null,U(G(o),d=>(n(),c("div",jt,[y(lt,{task:d},null,8,["task"])]))),256))]),y(Ot)])]))}},Bt=b(Ut,[["__scopeId","data-v-fffd14b5"]]);export{Bt as default};
