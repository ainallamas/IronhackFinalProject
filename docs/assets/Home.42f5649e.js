import{c as d,u as _,d as w,o as c,a as r,b as s,r as p,w as y,e as h,v as k,F as I,f,g as N,h as b,i as x,j as S}from"./index.6b805ce8.js";const u=d("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI"),z=_(),Z=w("task",{state:()=>({task:void 0}),actions:{async getTasks(){return await u.from("task").select("*").order("id",{ascending:!1}),this.task=task,console.log(task),this.task},async newTask(e,t){await u.from("task").insert([{user_id:z.user.id,title:e,isCreated:!1,description:t}])},async updateTask(e,t,a){await u.from("task").update({title:e,description:t}).eq("id",a)},async deleteTask(e){await u.from("task").delete().eq("id",e)}}}),v={class:"post"},g=s("header",null,null,-1),J=[g],T={__name:"PublishedTask",props:{task:Object},setup(e){return(t,a)=>(c(),r("div",v,J))}},V={class:"mt-5"},C=["onSubmit"],X={class:"control"},j={class:"control"},M=s("div",{class:"control"},[s("button",{type:"submit",class:"mt-2 button is-info"},"Submit")],-1),O={__name:"NewTask",setup(e){d("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=Z(),a=_();p("");const n=p(""),o=p(""),m=async()=>{await t.newTask(n.value,o.value),console.log(a.user),n.value="",o.value=""};return(D,l)=>(c(),r(I,null,[s("div",V,[s("form",{onSubmit:y(m,["prevent"])},[s("div",X,[h(s("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>n.value=i),class:"textarea",placeholder:"Post title"},null,512),[[k,n.value]])]),s("div",j,[h(s("textarea",{"onUpdate:modelValue":l[1]||(l[1]=i=>o.value=i),class:"textarea",placeholder:"Write a post"},null,512),[[k,o.value]])]),M],40,C)]),(c(!0),r(I,null,f(N(t),i=>(c(),b(T,{task:i},null,8,["task"]))),256))],64))}},G=s("h1",null,"Home",-1),U=s("br",null,null,-1),B=s("br",null,null,-1),$={__name:"Home",setup(e){d("https://wuipdhkpnvpplsmetylp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1aXBkaGtwbnZwcGxzbWV0eWxwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2NjA3Njg5NywiZXhwIjoxOTgxNjUyODk3fQ.my4zcMKH1A3TM6z5DS_pCGUzyVXIuDgxNN4f0KIs0sI");const t=x(),a=_(),n=async()=>{try{await a.logout(),t.push({name:"login"})}finally{}};return(o,m)=>(c(),r(I,null,[G,S(O),U,B,s("button",{onClick:n},"Log out")],64))}};export{$ as default};
